<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ìƒ ì¶œê²° ê´€ë¦¬</title>
    
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        :root {
            --primary-color: #007bff;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --success-color: #28a745;
            --gray-color: #f4f4f4;
            --border-color: #ddd;
        }

        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 30px;
        }

        /* í•™ìƒ ì¶”ê°€ í¼ */
        #add-student-form {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        #student-name-input {
            flex-grow: 1;
            padding: 12px;
            font-size: 16px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
        }

        #add-student-form button {
            padding: 12px 20px;
            font-size: 16px;
            font-weight: bold;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #add-student-form button:hover {
            background-color: #0056b3;
        }

        /* ì¶œê²° í…Œì´ë¸” */
        #attendance-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        #attendance-table th,
        #attendance-table td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: center;
            vertical-align: middle;
        }

        #attendance-table th {
            background-color: var(--gray-color);
            font-weight: bold;
        }

        /* ìƒíƒœë³„ ì‹œê°ì  í”¼ë“œë°± */
        .status-ì¶œì„ { background-color: white; }
        .status-ì§€ê° { background-color: #fff8e1; } /* ì—°í•œ ë…¸ë‘ */
        .status-ê²°ì„ { background-color: #ffebee; } /* ì—°í•œ ë¹¨ê°• */
        .status-ì¡°í‡´ { background-color: #e3f2fd; } /* ì—°í•œ íŒŒë‘ */

        /* ë“œë¡­ë‹¤ìš´ ë° ë²„íŠ¼ */
        .status-select {
            padding: 8px;
            font-size: 15px;
            border-radius: 5px;
            border: 1px solid #ccc;
            min-width: 80px;
        }

        .delete-btn {
            padding: 6px 10px;
            font-size: 14px;
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .delete-btn:hover {
            background-color: #b71c1c;
        }

        /* ì¸ì‡„ ë²„íŠ¼ */
        #print-button {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            background-color: var(--success-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #print-button:hover {
            background-color: #1e7e34;
        }

        /* ì¸ì‡„ ì‹œ ìŠ¤íƒ€ì¼ (ë¶ˆí•„ìš”í•œ ìš”ì†Œ ìˆ¨ê¸°ê¸°) */
        @media print {
            body {
                padding: 0;
                margin: 0;
            }
            .container {
                box-shadow: none;
                margin: 0;
                padding: 0;
                max-width: 100%;
            }
            #add-student-form, .delete-btn, #print-button, #attendance-table th:last-child {
                display: none; /* ì¸ì‡„ ì‹œ ìˆ¨ê¹€ */
            }
            #attendance-table td:last-child {
                display: none; /* ì¸ì‡„ ì‹œ ìˆ¨ê¹€ */
            }
            /* ì¸ì‡„ ì‹œ ë“œë¡­ë‹¤ìš´ì„ í…ìŠ¤íŠ¸ë¡œ ë³´ì´ê²Œ í•¨ */
            .status-select {
                border: none;
                background: none;
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                padding: 0;
                font-size: 16px;
                color: #000;
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ“ í•™ìƒ ì¶œê²° ê´€ë¦¬</h1>

        <form id="add-student-form">
            <input type="text" id="student-name-input" placeholder="í•™ìƒ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: í™ê¸¸ë™)" required>
            <button type="submit">í•™ìƒ ì¶”ê°€</button>
        </form>

        <table id="attendance-table">
            <thead>
                <tr>
                    <th>ì´ë¦„</th>
                    <th>ì¶œê²° ìƒíƒœ</th>
                    <th>ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody id="attendance-tbody">
                </tbody>
        </table>

        <button id="print-button" onclick="printAttendance()">
            ğŸ–¨ï¸ ì¶œê²° í˜„í™© ì¸ì‡„í•˜ê¸° (PDF ì €ì¥)
        </button>
    </div>

    <script>
        // í•™ìƒ ëª©ë¡ì„ ì €ì¥í•  ë°°ì—´ (ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ)
        let students = [];

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const addStudentForm = document.getElementById('add-student-form');
        const studentNameInput = document.getElementById('student-name-input');
        const attendanceTbody = document.getElementById('attendance-tbody');

        // [ì´ë²¤íŠ¸] í•™ìƒ ì¶”ê°€ í¼ ì œì¶œ ì‹œ
        addStudentForm.addEventListener('submit', function(event) {
            event.preventDefault(); // í¼ ì œì¶œ(ìƒˆë¡œê³ ì¹¨) ë°©ì§€
            const studentName = studentNameInput.value.trim();

            if (studentName) {
                addStudent(studentName);
                studentNameInput.value = ''; // ì…ë ¥ì°½ ë¹„ìš°ê¸°
                studentNameInput.focus();
            }
        });

        /**
         * í•™ìƒì„ ë°ì´í„°ì— ì¶”ê°€í•˜ê³  í…Œì´ë¸”ì„ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤.
         * @param {string} name - ì¶”ê°€í•  í•™ìƒ ì´ë¦„
         */
        function addStudent(name) {
            const newStudent = {
                name: name,
                status: 'ì¶œì„' // ê¸°ë³¸ê°’ì€ 'ì¶œì„'
            };
            students.push(newStudent);
            renderTable(); // í…Œì´ë¸” ìƒˆë¡œê³ ì¹¨
        }

        /**
         * í•™ìƒ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  í…Œì´ë¸”ì„ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤.
         * @param {number} index - ìˆ˜ì •í•  í•™ìƒì˜ ì¸ë±ìŠ¤
         * @param {string} newStatus - ìƒˆë¡œìš´ ì¶œê²° ìƒíƒœ
         */
        function updateStatus(index, newStatus) {
            students[index].status = newStatus;
            renderTable(); // ìƒíƒœ ë³€ê²½ ì‹œ ì‹œê°ì  í”¼ë“œë°±(ë°°ê²½ìƒ‰)ì„ ìœ„í•´ í…Œì´ë¸” ì „ì²´ë¥¼ ë‹¤ì‹œ ê·¸ë¦¼
        }

        /**
         * í•™ìƒì„ ì‚­ì œí•˜ê³  í…Œì´ë¸”ì„ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤.
         * @param {number} index - ì‚­ì œí•  í•™ìƒì˜ ì¸ë±ìŠ¤
         */
        function deleteStudent(index) {
            // í™•ì¸ì°½ì„ ë„ì›Œ ì‚¬ìš©ì ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.
            if (confirm(`'${students[index].name}' í•™ìƒì„ ëª©ë¡ì—ì„œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                students.splice(index, 1); // ë°°ì—´ì—ì„œ í•™ìƒ ì œê±°
                renderTable(); // í…Œì´ë¸” ìƒˆë¡œê³ ì¹¨
            }
        }

        /**
         * í˜„ì¬ 'students' ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ í…Œì´ë¸”(tbody)ì„ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤.
         */
        function renderTable() {
            // í…Œì´ë¸” ë‚´ìš©(tbody) ë¹„ìš°ê¸°
            attendanceTbody.innerHTML = '';

            students.forEach((student, index) => {
                // 1. ìƒˆ í–‰(tr) ìƒì„±
                const tr = document.createElement('tr');
                
                // 2. í–‰ì— í˜„ì¬ ìƒíƒœì— ë§ëŠ” í´ë˜ìŠ¤ ì¶”ê°€ (CSS ìŠ¤íƒ€ì¼ë§ìš©)
                tr.className = 'status-' + student.status; // ì˜ˆ: 'status-ì¶œì„'

                // 3. ì´ë¦„(td) ìƒì„±
                const nameTd = document.createElement('td');
                nameTd.textContent = student.name;
                tr.appendChild(nameTd);

                // 4. ìƒíƒœ ì„ íƒ ë“œë¡­ë‹¤ìš´(td) ìƒì„±
                const statusTd = document.createElement('td');
                const statusSelect = document.createElement('select');
                statusSelect.className = 'status-select';
                
                const statuses = ['ì¶œì„', 'ì§€ê°', 'ê²°ì„', 'ì¡°í‡´'];
                statuses.forEach(status => {
                    const option = document.createElement('option');
                    option.value = status;
                    option.textContent = status;
                    if (student.status === status) {
                        option.selected = true; // í˜„ì¬ í•™ìƒì˜ ìƒíƒœë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„ íƒ
                    }
                    statusSelect.appendChild(option);
                });

                // ë“œë¡­ë‹¤ìš´ ë³€ê²½ ì‹œ updateStatus í•¨ìˆ˜ í˜¸ì¶œ
                statusSelect.onchange = () => updateStatus(index, statusSelect.value);
                
                statusTd.appendChild(statusSelect);
                tr.appendChild(statusTd);

                // 5. ê´€ë¦¬(ì‚­ì œ) ë²„íŠ¼(td) ìƒì„±
                const actionTd = document.createElement('td');
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'ì‚­ì œ';
                deleteBtn.className = 'delete-btn';
                
                // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ deleteStudent í•¨ìˆ˜ í˜¸ì¶œ
                deleteBtn.onclick = () => deleteStudent(index);
                
                actionTd.appendChild(deleteBtn);
                tr.appendChild(actionTd);

                // 6. ì™„ì„±ëœ í–‰(tr)ì„ tbodyì— ì¶”ê°€
                attendanceTbody.appendChild(tr);
            });
        }

        /**
         * ì¸ì‡„ ê¸°ëŠ¥ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.
         */
        function printAttendance() {
            window.print();
        }

        // --- ì´ˆê¸° ì‹¤í–‰ ---
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¹ˆ í…Œì´ë¸”ì„ í•œ ë²ˆ ê·¸ë ¤ì¤ë‹ˆë‹¤.
        renderTable();

    </script>

</body>
</html>
